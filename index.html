<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AeroTrack | Collaborative Work Order</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="app-header">
        <div class="header-content">
            <h1 id="wo-title">LOADING...</h1>
            <div id="wo-subtitle">Aircraft Maintenance System</div>
        </div>
        <div class="status-bar">
            <span id="connection-status" class="dot"></span>
            <span id="sync-text">Syncing...</span>
        </div>
    </header>

    <main id="app-container">
        <!-- Findings list will be injected here -->
        <div id="loading-spinner" class="spinner-overlay">
            <div class="loader"></div>
            <p>Fetching Maintenance Data...</p>
        </div>
    </main>

    <!-- Modal: Start Task -->
    <div id="modal-start" class="modal">
        <div class="modal-content">
            <h3>Start Maintenance Action</h3>
            <div class="form-group">
                <label>Employee ID</label>
                <input type="text" id="input-emp-id" placeholder="Enter ID (e.g. 10245)" autocomplete="off">
            </div>
            <div class="form-group">
                <label>Task Code</label>
                <input type="text" id="input-task-code" placeholder="e.g. 2000" maxlength="4">
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeModals()">Cancel</button>
                <button class="btn btn-primary" id="btn-confirm-start">Start Timer</button>
            </div>
        </div>
    </div>

    <!-- Modal: Stop / Finalize -->
    <div id="modal-stop" class="modal">
        <div class="modal-content">
            <h3>Complete Execution</h3>
            <p id="stop-details"></p>
            <div class="form-group" id="final-status-group">
                <label>Next Status</label>
                <select id="select-final-status">
                    <option value="PROGRESS">ON HOLD (Requires more work)</option>
                    <option value="CLOSED">CLOSED (Finding Rectified)</option>
                </select>
            </div>
            <div id="evidence-upload-section" class="form-group hidden">
                <label>Final Evidence (Photo)</label>
                <input type="file" id="input-evidence" accept="image/*">
            </div>
            <div class="modal-actions">
                <button class="btn btn-secondary" onclick="closeModals()">Cancel</button>
                <button class="btn btn-danger" id="btn-confirm-stop">Stop & Log</button>
            </div>
        </div>
    </div>

    <!-- Modal: Image Preview -->
    <div id="modal-image" class="modal" onclick="closeModals()">
        <span class="close-img">&times;</span>
        <img class="modal-img-content" id="img-preview-target">
    </div>

    <script src="script.js"></script>
</body>
</html>
